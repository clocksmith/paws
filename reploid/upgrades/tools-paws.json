[
  {
    "name": "create_cats_bundle",
    "description": "Reads a list of files from the VFS and bundles them into a single cats.md artifact for the LLM to use as context.",
    "parameters": {
      "type": "object",
      "properties": {
        "file_paths": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "An array of VFS paths to include in the bundle."
        },
        "reason": {
          "type": "string",
          "description": "A brief justification for why these files were selected."
        },
        "turn_path": {
            "type": "string",
            "description": "The path to the current turn's cats.md file."
        }
      },
      "required": ["file_paths", "reason", "turn_path"]
    }
  },
  {
    "name": "create_dogs_bundle",
    "description": "Creates a dogs.md artifact containing a structured list of proposed file changes.",
    "parameters": {
      "type": "object",
      "properties": {
        "changes": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "file_path": { "type": "string" },
              "operation": { "type": "string", "enum": ["CREATE", "MODIFY", "DELETE"] },
              "new_content": { "type": "string" }
            },
            "required": ["file_path", "operation"]
          },
          "description": "The structured list of changes to apply."
        },
        "turn_path": {
            "type": "string",
            "description": "The path to the current turn's dogs.md file."
        }
      },
      "required": ["changes", "turn_path"]
    }
  },
  {
    "name": "apply_dogs_bundle",
    "description": "A high-privilege tool that applies an approved dogs.md bundle to the workspace, with verification and rollback capabilities.",
    "parameters": {
      "type": "object",
      "properties": {
        "dogs_path": {
          "type": "string",
          "description": "The path to the dogs.md bundle to apply."
        },
        "verify_command": {
          "type": "string",
          "description": "An optional shell command to run to verify the changes (e.g., 'npm test')."
        }
      },
      "required": ["dogs_path"]
    }
  }
]
